{% extends "back.html" %}
{% block hello %}
{% import "fenye.html" as macros %}
    <div class="tpl-content-wrapper">
            <div class="tpl-content-page-title">
               
            </div>
            <div class="tpl-portlet-components">
                <div class="portlet-title">
                    <div class="caption font-green bold">
                        <span class="am-icon-code"></span> 测试报告
                    </div>
                    <div class="tpl-portlet-input tpl-fz-ml">
                           
                    </div>
                </div>
     {% with messages = get_flashed_messages() %}
{% if messages %}
 <ul class='flashes'>
{% for message in messages %}
<li style="color: red">{{ message }}</li>
{% endfor %}
{% endif %}
{% endwith %}
    <!--<div id="main" style="width: 600px;height:400px;"></div> -->
   <table class="am-table am-table-striped am-table-hover table-main" style="width:70%">
  <caption><strong></strong></caption>
  <thead>
    <tr>
      <th>测试数量</th>
      <th>通过</th>
      <th>失败</th>
         <th>测试时间</th>
         <th>测试耗时</th>
         <th>评分</th>
         <th>测试用户</th>
          <th>报告下载</th>
          <th>日志下载</th>
          {%if current_user.role_id !=1 and
          current_user.role_id !=None  %}
          <th>操作</th>{%endif%}
    </tr>
  </thead>
  <tbody>
  {%for yong in inte%}
    <tr>
      <td>{{yong.test_num}}</td>
      <td>{{yong.pass_num}}</td>
      <td>{{yong.fail_num}}</td>
      <td>{{yong.test_time}}</td>
      <td>{{yong.hour_time}}</td>
         <td >{{(yong.pass_num)/(yong.test_num)}}</td>
         <td>{{yong.users}}</td>
        <td><a href="{{url_for('load',filename= yong.test_rep)}}">报告下载</a></td>
         <td><a href="{{url_for('load',filename= yong.test_log)}}">日志下载</a></td>
         {%if current_user.role_id !=1 and
          current_user.role_id !=None  %}
          <th><a href="{{url_for('deletre',id=yong.id)}}"><input type="button" value="删除" class="btn btn-default"></a></th>{%endif%}
    </tr>
    {%endfor%}
  </tbody>
</table>
 <p class="pagination" style="margin-left: 24%;">
     {{macros.pagination_widget(pagination,'.test_repppage')}}</p>
</div>
<!--
<script type="text/javascript">
        // 基于准备好的dom，初始化echarts实例
        var myChart = echarts.init(document.getElementById('main'));
        // 指定图表的配置项和数据
        var option = {
    title: {
        text: '测试结果',
        subtext: '每次测试结果汇总'
    },
    tooltip: {
        trigger: 'axis'
    },
    legend: {
        data:['项目1','项目2']
    },
    toolbox: {
        show: true,
        feature: {
            dataZoom: {
                yAxisIndex: 'none'
            },
            dataView: {readOnly: false},
            magicType: {type: ['line', 'bar']},
            restore: {},
            saveAsImage: {}
        }
    },
    xAxis:  {
        type: 'category',
        boundaryGap: false,
        data: ['2012-17-17','2012-17-17','2012-17-17','2012-17-17','2012-17-17']
    },
    yAxis: {
        type: 'value',
        axisLabel: {
            formatter: '{value} %'
        }
    },
    series: [
        {
            name:'项目1',
            type:'line',
            data:[100, 80, 60, 33, 90, 40, 10],
            
        },
        {
            name:'项目2',
            type:'line',
            data:[10, 20, 30, 50, 30, 20, 10],
            
   
        }
    ]
};

        // 使用刚指定的配置项和数据显示图表。
        myChart.setOption(option);
    </script>-->
{% endblock %} 
